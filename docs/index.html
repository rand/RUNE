<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUNE: High-Performance Authorization & Configuration Engine</title>
    <meta name="description" content="A principled authorization and configuration system combining Datalog and Cedar policies. Sub-millisecond decisions at 5M+ ops/sec.">

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rand.github.io/RUNE/">
    <meta property="og:title" content="RUNE: High-Performance Authorization & Configuration Engine">
    <meta property="og:description" content="A principled authorization and configuration system combining Datalog and Cedar policies. Sub-millisecond decisions at 5M+ ops/sec.">
    <meta property="og:image" content="https://rand.github.io/RUNE/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://rand.github.io/RUNE/">
    <meta name="twitter:title" content="RUNE: High-Performance Authorization & Configuration Engine">
    <meta name="twitter:description" content="A principled authorization and configuration system combining Datalog and Cedar policies. Sub-millisecond decisions at 5M+ ops/sec.">
    <meta name="twitter:image" content="https://rand.github.io/RUNE/og-image.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/geist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Shared Foundation (structure without colors) -->
    <link rel="stylesheet" href="css/foundation.css">

    <!-- RUNE Theme (project-specific colors and identity) -->
    <link rel="stylesheet" href="css/rune-theme.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="nav-brand">
                <span class="logo-glyph">âˆ®</span>
                <strong>RUNE</strong> v0.1.0
            </a>
            <div class="nav-links">
                
                    
                        <a href="whitepaper.html">Whitepaper</a>
                    
                
                    
                        <a href="agent-guide.html">Agent Guide</a>
                    
                
                    
                        <a href="https://github.com/rand/RUNE" target="_blank">GitHub</a>
                    
                
                <button class="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-toggle-icon"></span>
                </button>
            </div>
        </div>
    </nav>

    <aside class="sidebar">
        <div class="sidebar-content">
            <div class="sidebar-tagline">// High-Performance Authorization</div>
            <div class="sidebar-toc"></div>
        </div>
    </aside>

    <main class="container">
        
<header class="paper-header">
    <h1>RUNE: High-Performance Authorization & Configuration Engine</h1>
    <p class="paper-meta">
        <span class="version-badge">v0.1.0</span>
        <span>November 2025</span>
        <a href="https://github.com/rand/RUNE">github.com/rand/RUNE</a>
    </p>
</header>

<h1 id="rune-high-performance-authorization-configuration-engine">RUNE - High-Performance Authorization &amp; Configuration Engine</h1>
<p>RUNE is a principled authorization and configuration system that combines Datalog-based configuration rules with Cedar-style authorization policies. It provides <strong>real, enforceable guardrails</strong> for AI agents with sub-millisecond latency and 5M+ ops/sec throughput.</p>
<h2 id="key-features">Key Features</h2>
<ul>
<li><strong>Sub-millisecond authorization decisions</strong> (&lt;1ms P99 latency)</li>
<li><strong>High throughput</strong>: 5M+ operations per second on a single core</li>
<li><strong>Dual-engine architecture</strong>: Datalog for configuration, Cedar for authorization</li>
<li><strong>Lock-free data structures</strong> for maximum concurrency</li>
<li><strong>Zero-copy architecture</strong> with memory-mapped facts</li>
<li><strong>Single binary deployment</strong> (~10MB static executable)</li>
<li><strong>Python bindings</strong> for easy integration with AI frameworks</li>
</ul>
<h2 id="quick-start">Quick Start</h2>
<h3 id="build-from-source">Build from Source</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Requires Rust 1.75+</span>
cargo<span class="w"> </span>build<span class="w"> </span>--release

<span class="c1"># Run the CLI</span>
./target/release/rune<span class="w"> </span>--help
</code></pre></div>

<h3 id="basic-usage">Basic Usage</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Evaluate an authorization request</span>
rune<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>--action<span class="w"> </span><span class="nb">read</span><span class="w"> </span>--resource<span class="w"> </span>/tmp/file.txt<span class="w"> </span>--principal<span class="w"> </span>agent-1

<span class="c1"># Validate a configuration file</span>
rune<span class="w"> </span>validate<span class="w"> </span>config.rune

<span class="c1"># Run benchmarks</span>
rune<span class="w"> </span>benchmark<span class="w"> </span>--requests<span class="w"> </span><span class="m">10000</span><span class="w"> </span>--threads<span class="w"> </span><span class="m">8</span>
</code></pre></div>

<h3 id="example-configuration">Example Configuration</h3>
<div class="highlight"><pre><span></span><code><span class="s s-Atom">version</span> <span class="o">=</span> <span class="s2">&quot;rune/1.0&quot;</span>

<span class="p">[</span><span class="s s-Atom">data</span><span class="p">]</span>
<span class="s s-Atom">environment</span> <span class="o">=</span> <span class="s2">&quot;production&quot;</span>
<span class="s s-Atom">agent</span><span class="p">.</span><span class="s s-Atom">capabilities</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="s2">&quot;write&quot;</span><span class="p">]</span>

<span class="p">[</span><span class="s s-Atom">rules</span><span class="p">]</span>
<span class="s s-Atom">#</span> <span class="nv">Datalog</span> <span class="s s-Atom">rules</span> <span class="s s-Atom">for</span> <span class="s s-Atom">configuration</span>
<span class="nf">allow_file_read</span><span class="p">(</span><span class="nv">Path</span><span class="p">)</span> <span class="o">:-</span>
    <span class="nf">action</span><span class="p">(</span><span class="s2">&quot;file.read&quot;</span><span class="p">),</span>
    <span class="nf">path</span><span class="p">(</span><span class="nv">Path</span><span class="p">),</span>
    <span class="nv">Path</span><span class="p">.</span><span class="nf">starts_with</span><span class="p">(</span><span class="s2">&quot;/allowed&quot;</span><span class="p">).</span>

<span class="p">[</span><span class="s s-Atom">policies</span><span class="p">]</span>
<span class="s s-Atom">#</span> <span class="nv">Cedar</span> <span class="s s-Atom">policies</span> <span class="s s-Atom">for</span> <span class="s s-Atom">authorization</span>
<span class="nf">permit</span><span class="p">(</span>
    <span class="s s-Atom">principal</span> <span class="s s-Atom">in</span> <span class="nv">Group</span><span class="o">::</span><span class="s2">&quot;agents&quot;</span><span class="p">,</span>
    <span class="s s-Atom">action</span> <span class="o">==</span> <span class="nv">Action</span><span class="o">::</span><span class="s2">&quot;read&quot;</span><span class="p">,</span>
    <span class="s s-Atom">resource</span> <span class="s s-Atom">in</span> <span class="nv">File</span><span class="o">::</span><span class="s2">&quot;/tmp/*&quot;</span>
<span class="p">);</span>
</code></pre></div>

<h2 id="architecture">Architecture</h2>
<h3 id="core-components">Core Components</h3>
<ul>
<li><strong><code>rune-core</code></strong>: High-performance Rust engine</li>
<li>Lock-free fact store using crossbeam</li>
<li>Parallel Datalog evaluation</li>
<li>Native Cedar integration</li>
<li>
<p>DashMap for concurrent caching</p>
</li>
<li>
<p><strong><code>rune-cli</code></strong>: Command-line interface</p>
</li>
<li>Evaluation, validation, benchmarking</li>
<li>
<p>Production-ready with colored output</p>
</li>
<li>
<p><strong><code>rune-python</code></strong>: Python bindings (PyO3)</p>
</li>
<li>Zero-copy data transfer</li>
<li>Async support</li>
<li>Decorator-based enforcement</li>
</ul>
<h3 id="performance">Performance</h3>
<p>Benchmark results on Apple M1:
- <strong>Throughput</strong>: 5M+ requests/second
- <strong>Latency</strong>: P50: 50ns, P99: 500ns
- <strong>Cache hit rate</strong>: 90%+
- <strong>Memory usage</strong>: &lt;50MB for 1M facts</p>
<h3 id="datalog-engine">Datalog Engine</h3>
<p>RUNE includes a custom-built Datalog evaluation engine designed specifically for high-performance authorization:</p>
<p><strong>Key Features:</strong>
- <strong>Semi-naive evaluation</strong>: Efficient fixpoint computation with delta tracking
- <strong>Stratified negation</strong>: Safe handling of negation in rules
- <strong>Aggregation support</strong>: count, sum, min, max, mean operations
- <strong>BYODS relation backends</strong>: Optimized storage (Vector, HashMap, UnionFind, Trie)
- <strong>Lock-free concurrent reads</strong>: Arc-based zero-copy fact access
- <strong>Hot-reload ready</strong>: Interpreted rules enable runtime policy updates</p>
<p><strong>Example Rules:</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">//</span> <span class="nv">Derive</span> <span class="s s-Atom">permissions</span> <span class="s s-Atom">from</span> <span class="s s-Atom">roles</span>
<span class="nb">user</span><span class="k">_</span><span class="nf">can</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="nv">Permission</span><span class="p">)</span> <span class="o">:-</span>
    <span class="nf">has_role</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="nv">Role</span><span class="p">),</span>
    <span class="nf">role_permission</span><span class="p">(</span><span class="nv">Role</span><span class="p">,</span> <span class="nv">Permission</span><span class="p">).</span>

<span class="o">//</span> <span class="nv">Transitive</span> <span class="s s-Atom">closure</span> <span class="s s-Atom">for</span> <span class="s s-Atom">hierarchical</span> <span class="s s-Atom">resources</span>
<span class="nf">has_access</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="nv">Child</span><span class="p">)</span> <span class="o">:-</span>
    <span class="nf">has_access</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="nv">Parent</span><span class="p">),</span>
    <span class="nf">parent_resource</span><span class="p">(</span><span class="nv">Child</span><span class="p">,</span> <span class="nv">Parent</span><span class="p">).</span>

<span class="o">//</span> <span class="nv">Aggregation</span> <span class="s s-Atom">for</span> <span class="s s-Atom">rate</span> <span class="s s-Atom">limiting</span>
<span class="nf">total_calls</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="nv">Count</span><span class="p">)</span> <span class="o">:-</span>
    <span class="nf">count</span><span class="p">(</span><span class="nv">Calls</span><span class="p">,</span> <span class="nf">api_call</span><span class="p">(</span><span class="nv">User</span><span class="p">,</span> <span class="k">_</span><span class="p">,</span> <span class="nv">Calls</span><span class="p">)).</span>

<span class="o">//</span> <span class="nv">Negation</span> <span class="s s-Atom">for</span> <span class="s s-Atom">access</span> <span class="s s-Atom">control</span>
<span class="nf">allowed</span><span class="p">(</span><span class="nv">User</span><span class="p">)</span> <span class="o">:-</span>
    <span class="nb">user</span><span class="p">(</span><span class="nv">User</span><span class="p">),</span>
    <span class="o">not</span> <span class="nf">blocked</span><span class="p">(</span><span class="nv">User</span><span class="p">),</span>
    <span class="o">not</span> <span class="nf">over_limit</span><span class="p">(</span><span class="nv">User</span><span class="p">).</span>
</code></pre></div>

<p><strong>Why Custom Implementation?</strong></p>
<p>Existing Rust Datalog crates (datafrog, ascent, crepe) use compile-time code generation which prevents runtime policy updates. RUNE's custom engine provides:
1. Runtime interpretation for hot-reload capability
2. Lock-free Arc-based reads for maximum concurrency
3. BYODS (Bring Your Own Data Structures) for optimized relation storage
4. Tight integration with Cedar authorization
5. Sub-millisecond latency guarantees</p>
<p>See <code>examples/datalog_*.rune</code> for detailed examples.</p>
<h3 id="integration">Integration</h3>
<p>RUNE integrates with major AI frameworks:
- LangChain
- AutoGPT/AutoGen
- OpenAI Function Calling
- Anthropic Tool Use</p>
<h2 id="development-status">Development Status</h2>
<h3 id="v010-released-2025-11-08">v0.1.0 (Released 2025-11-08)</h3>
<ul>
<li>âœ… Rust core engine with lock-free data structures</li>
<li>âœ… Request authorization with caching (90%+ hit rate)</li>
<li>âœ… Cedar policy engine integration (Cedar 3.x)</li>
<li>âœ… CLI tool with benchmarking</li>
<li>âœ… Basic parser for RUNE files (TOML data section)</li>
<li>âœ… Python bindings structure (disabled, awaiting v0.4.0)</li>
</ul>
<h3 id="v020-released-2025-11-08">v0.2.0 (Released 2025-11-08) âœ…</h3>
<ul>
<li>âœ… <strong>Custom Datalog evaluation engine</strong></li>
<li>âœ… Semi-naive bottom-up evaluation</li>
<li>âœ… Stratified negation support</li>
<li>âœ… Aggregation operations (count, sum, min, max, mean)</li>
<li>âœ… Lock-free concurrent reads</li>
<li>âœ… Hot-reload ready architecture</li>
<li>âœ… 26 passing Datalog tests</li>
<li>âœ… <strong>BYODS relation backends</strong></li>
<li>âœ… VecBackend for small relations</li>
<li>âœ… HashBackend for general-purpose storage</li>
<li>âœ… UnionFindBackend foundation (future optimization)</li>
<li>âœ… TrieBackend foundation (future optimization)</li>
<li>âœ… Automatic backend selection heuristics</li>
<li>âœ… <strong>Datalog rule parser</strong></li>
<li>âœ… Parse facts: <code>user(alice).</code></li>
<li>âœ… Parse rules: <code>can_access(U) :- user(U), admin(U).</code></li>
<li>âœ… Parse negation: <code>allowed(X) :- user(X), not blocked(X).</code></li>
<li>âœ… Type inference: integers, booleans, strings, variables</li>
<li>âœ… 8 passing parser tests</li>
<li>âœ… <strong>Cedar entity to Datalog fact bridge</strong></li>
<li>âœ… Convert Principal/Resource/Action to facts</li>
<li>âœ… Handle hierarchical entities and attributes</li>
<li>âœ… Request metadata facts for authorization patterns</li>
<li>âœ… 6 passing bridge tests</li>
</ul>
<h3 id="v030-released-2025-11-08">v0.3.0 (Released 2025-11-08) âœ…</h3>
<ul>
<li>âœ… <strong>Hot-reload with RCU pattern</strong></li>
<li>âœ… ArcSwap-based lock-free engine updates</li>
<li>âœ… Atomic rule and policy swapping</li>
<li>âœ… Sub-10ns read latency during reload</li>
<li>âœ… <strong>Zero-downtime configuration updates</strong></li>
<li>âœ… Ongoing requests complete with old rules</li>
<li>âœ… Automatic memory reclamation with Arc</li>
<li>âœ… Cache invalidation on reload</li>
<li>âœ… <strong>File watching for automatic reload</strong></li>
<li>âœ… Cross-platform file watching with notify crate</li>
<li>âœ… Event debouncing for multi-chunk writes</li>
<li>âœ… Async reload coordinator with tokio</li>
<li>âœ… Manual reload capability for testing</li>
<li>âœ… Reload event subscription for monitoring</li>
</ul>
<h3 id="v040-planned">v0.4.0 (Planned)</h3>
<ul>
<li>ðŸ”œ Python bindings activation</li>
<li>ðŸ”œ HTTP server for remote authorization</li>
<li>ðŸ”œ Production observability (Prometheus, OpenTelemetry)</li>
<li>ðŸ”œ Comprehensive test suite (85%+ coverage)</li>
</ul>
<h2 id="license">License</h2>
<p>MIT OR Apache-2.0</p>

<footer class="footer">
    <p>
        RUNE is open-source software. For questions or contributions, visit the
        <a href="https://github.com/rand/RUNE">GitHub repository</a>.
    </p>
</footer>

    </main>

    <!-- Shared Foundation Scripts -->
    <script src="js/theme-core.js"></script>
    <script src="js/sidebar-core.js"></script>
    <script src="js/toc-core.js"></script>

    <!-- Project-specific customization -->
    <script src="js/sidebar.js"></script>
</body>
</html>